!function(e){var n={};function l(i){if(n[i])return n[i].exports;var t=n[i]={i:i,l:!1,exports:{}};return e[i].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,n,i){l.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,n){if(1&n&&(e=l(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)l.d(i,t,function(n){return e[n]}.bind(null,t));return i},l.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(n,"a",n),n},l.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l.p="",l(l.s=0)}([function(e,n,l){l(1)},function(e,n,l){"use strict";function i(e,n,l){o(),function(e,n,l){var i=document.querySelector(".modal");null!=i&&i.remove();var t=document.createElement("div");null!=n?t.classList.add("modal","modal-show",e,n):t.classList.add("modal","modal-show",e);t.innerHTML=0==l?'<div class="modal-inner"></div>':'\n        <div class="modal-inner">\n            \x3c!-- Крестик --\x3e\n            <div class="modal-close modal-close_btn"></div>\n        </div>\n    ';document.body.appendChild(t)}(e,n,l)}function t(){document.querySelector(".modal").remove(),overlay.classList.remove("modal-show")}function a(){document.querySelector(".modal").classList.remove("modal-show")}function o(){overlay.classList.add("modal-show")}function s({btnClass:e,btnText:n,btnParent:l}){this.btnClass=e,this.btnText=n;var i=document.querySelector(l);this.createBtn=function(){var e=document.createElement("button");"object"==typeof this.btnClass?e.classList.add("btn",...this.btnClass):e.classList.add("btn",this.btnClass),e.innerHTML=this.btnText,i.appendChild(e)}}function r({elemParent:e,elemClass:n,elemTag:l,elemInner:i}){this.elemClass=n,this.elemInner=i;var t=document.querySelector(e);this.addElem=function(){var e=document.createElement(l);"object"==typeof this.elemClass?e.classList.add(...this.elemClass):e.classList.add(this.elemClass),e.innerHTML=this.elemInner,t.appendChild(e)}}function c(e,n,l){document.querySelector(n).onclick=function(n){var i=Array.prototype.slice.call(this.children).indexOf(n.target);if(0!=e){var t=e[0][i];dialogue.innerHTML=t}null!=l&&l(i)}}l.r(n),document.addEventListener("click",function(e){e.target.classList.contains("modal-close_btn")&&t()}),function(){var e=[{0:"<b>Дарон:</b> я маг круга огня, наш монастырь выше в горах, не далеко от того перевала где ты проходил. Узкий проход между двумя скалами тоже завалил камнепад, теперь я отрезан от свой обители. Мастера наверняка уже готовят ритуал, чтобы расчистить завал, но нужно быть осторожным, чтобы не вызвать повторный обвал камней, подготовка займет не одну неделю, пока я буду здесь",1:"<b>Дарон:</b> я собирал в тех местах особую траву. Когда услышал грохот, то бежал со всех ног, камнепад не редкое явление в этих горах. Когда шум прекратился, я пошел посмотреть на последствия и обнаружил тебя, ты получил удар по голове, но чудом избежал погребения",2:"<b>Дарон:</b> полуостров Хоринис, долина портового города Хоринис, построенный 20 лет назад королем, в предверии войны с орками. В моем скромном пристанище ты можешь оставаться сколько тебе угодно",3:"<b>Дарон:</b> восстановление памяти может занять дни, недели, а может месяцы, на все воля случая",4:"<b>Дарон:</b> ты можешь остаться здесь или осмотреться в городе. Но будь осторожнее, в лесу водятся опасные твари. Можешь взять кошелек на столе, там 100 монет, хватит на первое время"}];new r({elemParent:"#cont",elemClass:["modal","modal-show","journal"],elemTag:"div",elemInner:'\n            <p class="journal-title">Начало</p>\n            <div class="begin-img"><img src="img/bg-main.jpg"></div>\n            <div class="start-article">\n                <p>В голове мрак и сумятица, ты потерял память. Единственное, что ты помнишь это горный перевал и неожиданный камнепад, дальше только тьма. Ты очнулся в кровати, кто то тебя вытащил из злополучного перевала, можно встать и осмотреться...</p>\n            </div>\n        '}).addElem(),new s({btnClass:"start-game",btnText:"Далее",btnParent:".start-article"}).createBtn(),o();var n='\n        <ul class="link-list" id="link_list">\n            <li>- Голова гудит, в целом не плохо, кто ты?</li>\n            <li>- Как ты спас меня?</li>\n            <li>- Что это за место?</li>\n            <li>- Как скоро я все вспомню?</li>\n            <li>- Как быть дальше?</li>\n        </ul>';function l(l){0==l&&(btn_block.innerHTML=n,c(e,".link-list",t))}function t(e){4==e&&(link_list.innerHTML="",new s({btnClass:"back",btnText:"Назад",btnParent:".link-list"}).createBtn(),new s({btnClass:"modal-close_btn",btnText:"Уйти",btnParent:".link-list"}).createBtn(),c(!1,".link-list",l))}document.querySelector(".start-game").addEventListener("click",function(){a(),i("modal-loc","mage-loc",!1),new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n                    <p class="dialogue_article" id="dialogue"><b>Дарон:</b> Ты спал два дня, я смог вытащить тебя из под завала, камнями завалило половину перевала. Ты получил сильный удар по голове, но нам повезло. Как ты себя чувствуешь?</p>\n                    <div class="btn-block btn-block_dialogue" id="btn_block">\n                        ${n}\n                    </div>\n                    `}).addElem(),c(e,".link-list",t)})}();var d=[{nameItem:"Меч Беллиара",typeItem:"Урон",priceItem:"1000",propertiesItem:30,classItem:"destroyer"},{nameItem:"Панцирь Дракона",typeItem:"Броня",priceItem:"1000",propertiesItem:15,classItem:"dragon-armor"}],m=[{nameItem:"Кожаная броня",typeItem:"Броня",priceItem:"200",propertiesItem:5,classItem:"leather-armor"},{nameItem:"Пластинчатый доспех",typeItem:"Броня",priceItem:"600",propertiesItem:10,classItem:"heavy-armor"},{nameItem:"Дубинка",typeItem:"Урон",priceItem:"130",propertiesItem:5,classItem:"club"},{nameItem:"Полуторный меч",typeItem:"Урон",priceItem:"250",propertiesItem:10,classItem:"sword"},{nameItem:"Сокрушитель",typeItem:"Урон",priceItem:"500",propertiesItem:15,classItem:"axe"},{nameItem:"Охотничий нож",typeItem:"Предмет",priceItem:"120",propertiesItem:"Охота"},{nameItem:"Слиток стали",typeItem:"Предмет",priceItem:"110",propertiesItem:"Ковка"}],u=[{nameItem:"Кожаная броня",text:"<b>Сантино:</b> Кожаная броня, надежное и достаточно прочное изделие, чтобы выдержать пару ударов. И довольно легкий, чтобы суметь убежать при возможности :)"},{nameItem:"Пластинчатый доспех",text:"<b>Сантино:</b> Пластинчатый доспех, выбор настоящего профессионала! Крепкий сплав, пробить можно, но сложно :)"},{nameItem:"Дубинка",text:"<b>Сантино:</b> Дубинка, чтобы крошить черепа болотным крысам самое то :)"},{nameItem:"Полуторный меч",text:"<b>Сантино:</b> Полуторный меч, достойное оружие, даст отпор любому врагу. Тяжелый доспех пробить проблемно, так что бей в сочленения! "},{nameItem:"Сокрушитель",text:"<b>Сантино:</b> Сокрушитель! С этим грозным красавцем смело можешь идти на мракориса! Только не забудь одеть доспех поплотнее, рог мракориса прошивает орка насквозь. А орочья шкура будет порядком потолще человеческой :) "},{nameItem:"Охотничий нож",text:"<b>Сантино:</b> Охотничий нож, надежная вещь для разделки тушки. Мои ножи лучшие в городе :) "},{nameItem:"Слиток стали",text:"<b>Сантино:</b> Слиток стали, превосходный ингридиент для изготовления любого оружия и брони  :) "}];function b(e,n,l){for(var i=0;i<e.length;i++)if(e[i][n]===l)return i;return-1}function v(e,n){var l=b(e,"nameItem",n),i=e[l].priceItem/2,t={};for(var a in e[l])t[a]=e[l][a];t.priceItem=i;var o=e[l].priceItem;if(o>g.heroGold){document.querySelector(".dialogue-article").innerHTML="Не достаточно денег для покупки"}else{for(var r in g.heroGold-=o,f("purse"),k)if(k[r].nameItem==n)return k[r].countItem+=1,void _(k,"inventory","hero_item");if(t.countItem=1,k.push(t),_(k,"inventory","hero_item"),null==document.querySelector(".sell_btn"))new s({btnClass:"sell_btn",btnText:"Продать",btnParent:".btn-block_buyer"}).createBtn()}}function p(e){var n=b(k,"nameItem",e);if(-1!=n){k[n].countItem-=1,g.heroGold+=+k[n].priceItem;var l=document.querySelector('input[name = "hero_item"]'),i=document.querySelector('input[name = "hero_item"]:checked');if(null!=l)i.parentElement.lastElementChild.innerHTML=k[n].countItem;if(0==k[n].countItem){k.splice(n,1);var t=document.getElementById("weaponEquip").textContent,a=document.getElementById("armorEquip").textContent;if(t==e){var o=b(m,"nameItem",e),s=b(d,"nameItem",e);-1!=s?(g.heroDamage-=d[s].propertiesItem,g.heroWeapon="Пусто",h()):(g.heroDamage-=m[o].propertiesItem,g.heroWeapon="Пусто",h())}if(a==e){o=b(m,"nameItem",e);var r=b(d,"nameItem",e);-1!=r?(g.heroArmor-=d[r].propertiesItem,g.heroEquip="Пусто",h()):(g.heroArmor-=m[o].propertiesItem,g.heroEquip="Пусто",h())}_(k,"inventory","hero_item")}if(0==k.length)document.querySelector(".sell_btn").classList.add("hide-loc");f("purse")}}var k=[{nameItem:"Меч Беллиара",typeItem:"Урон",priceItem:"1000",propertiesItem:30,classItem:"destroyer",countItem:2},{nameItem:"Панцирь Дракона",typeItem:"Броня",priceItem:"1000",propertiesItem:15,classItem:"dragon-armor",countItem:2},{nameItem:"Рог мракориса",typeItem:"Предмет",priceItem:150,propertiesItem:"Для продажи",countItem:10},{nameItem:"Слиток стали",typeItem:"Предмет",priceItem:"110",propertiesItem:"Ковка",countItem:10},{nameItem:"Хвост крысы",typeItem:"Предмет",priceItem:150,propertiesItem:"Для продажи",countItem:3},{nameItem:"Шкура варга",typeItem:"Предмет",priceItem:150,propertiesItem:"Для продажи",countItem:2}],g={heroName:"Герой",heroDamage:10,heroArmor:0,heroCrit:20,heroHP:100,heroGold:15e3,heroWeapon:"Пусто",heroEquip:"Пусто",heroIMG:'<img src="img/hero.png" alt="герой">',heroInfoPanel:function(){new r({elemParent:".map-container_inner",elemClass:"hero-infobar",elemTag:"div",elemInner:`\n                <div class="hero-infobar_btn"></div>\n                <ul class="hero-skill">\n                    <li>\n                        <span>Урон:</span>\n                        <span>${this.heroDamage}</span>\n                    </li>\n                    <li>\n                        <span>Броня:</span>\n                        <span>${this.heroArmor}</span>\n                    </li>\n                    <li>\n                        <span>Крит:</span>\n                        <span>${this.heroCrit+"%"}</span>\n                    </li>\n                    <li>\n                        <span>Здоровье:</span>\n                        <span>${this.heroHP}</span>\n                    </li>\n                    <li>\n                        <span>Золото:</span>\n                        <span id="hero_gold">${this.heroGold}</span>\n                    </li>\n                </ul>\n                <ul class="hero-equip">\n                    <li>\n                        <span>Оружие:</span>\n                        <span id="weaponEquip">${this.heroWeapon}</span>\n                    </li>\n                    <li>\n                        <span>Доспех:</span>\n                        <span id="armorEquip">${this.heroEquip}</span>\n                    </li>\n                </ul>\n            `}).addElem()}};function h(){var e=document.querySelector(".hero-infobar"),n=document.querySelector(".hero");null!=e&&e.remove(),null!=n&&n.remove(),g.heroInfoPanel(),function(){new r({elemParent:".map-container_inner",elemClass:"hero",elemTag:"div",elemInner:`\n       <div class="hero-item">\n           <span class="hero-name">Герой</span>\n           <div class="hero-img">\n               ${g.heroIMG}\n           </div>\n           <div class="hero-armor" id="heroArmor"></div>\n           <div class="hero-weapon" id="heroWeapon"></div>\n       </div>\n       `}).addElem();var e=b(k,"nameItem",g.heroWeapon),n=b(k,"nameItem",g.heroEquip);if(-1!=e){var l=k[e].classItem;heroWeapon.classList.add(l)}if(-1!=n){var i=k[n].classItem;heroArmor.classList.add(i)}}();var l=new s({btnClass:"panel-journal_btn",btnText:"Журнал",btnParent:".hero-infobar_btn"}),i=new s({btnClass:"panel-inv_btn",btnText:"Инвентарь",btnParent:".hero-infobar_btn"});l.createBtn(),i.createBtn()}function _(e,n,l){var i=document.getElementById(n);if(i.innerHTML="",0==e.length){var t=document.createElement("li");i.appendChild(t),t.innerHTML="Пусто"}else{for(var a=0;a<e.length;a++){var o=e[a].typeItem,s=e[a].nameItem,r=e[a].priceItem,c=e[a].propertiesItem,d=e[a].countItem,m="";if(null!=d)m=" - <i>"+d+"</i> шт.";t=document.createElement("li");i.appendChild(t),t.innerHTML=`\n                    <label> <input type="radio" value="${s}" name="${l}"> ${s} - <span>${r} </span>(${o}:<em>${c}</em>)${m}\n                    </label>\n                `}document.getElementsByName(l)[0].checked=!0}}function f(e){var n=g.heroGold,l=document.getElementById(e);l.innerHTML="";var i=document.createElement("li");l.appendChild(i),i.innerHTML=`\n            <p>Золото: <span>${n}</span></p>\n        `}function I(){var e=document.querySelector(".modal");null!=e&&e.remove();var n,l,i,t;if(new r({elemParent:"#cont",elemClass:["modal","modal-show","inv-block"],elemTag:"div",elemInner:'\n            <p class="modal-title">Инвентарь\n                <div class="modal-close modal-close_btn"></div>\n            </p>\n            <ul id="inventory"></ul>\n            <div class="btn-block btn-block_inv"></div>\n        '}).addElem(),_(k,"inventory","hero_item"),"Пусто"!=document.getElementById("inventory").textContent){var a=new s({btnClass:"equipBtn",btnText:"Экипировать",btnParent:".btn-block_inv"}),o=new s({btnClass:"modal-close_btn",btnText:"Закрыть",btnParent:".btn-block_inv"});a.createBtn(),o.createBtn()}n=".equipBtn",l=document.querySelector(n),i=g.heroDamage,t=g.heroArmor,null!=l&&l.addEventListener("click",function(){var e=document.querySelector('input[name = "hero_item"]:checked').value,n=b(k,"nameItem",e),l=k[n].typeItem;return"Предмет"==l?(new r({elemParent:".btn-block_inv",elemClass:"tooltip-inner",elemTag:"div",elemInner:"<p>Данный предмет невозможно экипировать</p>"}).addElem(),void setTimeout(function(){document.querySelector(".tooltip-inner").remove()},1500)):e==g.heroWeapon||e==g.heroEquip?(new r({elemParent:".btn-block_inv",elemClass:"tooltip-inner",elemTag:"div",elemInner:"<p>Данный предмет уже экипирован</p>"}).addElem(),void setTimeout(function(){document.querySelector(".tooltip-inner").remove()},1500)):("Урон"==l&&(g.heroDamage=i,g.heroDamage+=k[n].propertiesItem,g.heroWeapon=e),"Броня"==l&&(g.heroArmor=t,g.heroArmor+=k[n].propertiesItem,g.heroEquip=e),void h())})}h(),document.addEventListener("click",function(e){e.target.classList.contains("panel-inv_btn")&&(I(),console.log(k))}),shop.addEventListener("click",function(){i("modal-loc","shop-loc"),new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:'\n        <p class="dialogue_article"><b>Сантино:</b> Продаю по полной цене, выкупаю за половину :)</p>\n        <div class="btn-block btn-block_dialogue"></div>\n        '}).addElem(),new s({btnClass:"show_product",btnText:"Товары",btnParent:".btn-block_dialogue"}).createBtn(),new s({btnClass:"modal-close_btn",btnText:"Уйти",btnParent:".btn-block_dialogue"}).createBtn(),document.querySelector(".show_product").addEventListener("click",function(){if(null==document.querySelector(".modal-item")){new r({elemParent:".modal-inner",elemClass:"modal-inner_item",elemTag:"div",elemInner:'\n            \x3c!-- Товары магазина --\x3e\n            <div class="modal-item">\n                <p class="modal-title">Товары</p>\n                <ul id="shop_list"></ul>\n                <div class="btn-block btn-block_seller"></div>\n            </div>\n            \x3c!-- Предметы игрока --\x3e\n            <div class="modal-item">\n                <p class="modal-title">Инвентарь</p>\n                <ul id="inventory"></ul>\n                <div class="btn-block btn-block_buyer"></div>\n            </div>\n            \x3c!-- Кошелек игрока --\x3e\n            <div class="modal-item">\n                <p class="modal-title">Кошелек</p>\n                <ul id="purse"></ul>\n            </div>\n            '}).addElem(),_(m,"shop_list","shop_item"),_(k,"inventory","hero_item"),f("purse"),(e=new s({btnClass:"buy_btn",btnText:"Купить",btnParent:".btn-block_seller"})).createBtn();(n=new s({btnClass:["sell_btn","hide-loc"],btnText:"Продать",btnParent:".btn-block_buyer"})).createBtn(),function(){var e=document.getElementsByName("shop_item"),n=document.querySelector(".dialogue_article");e[0].checked=!0;for(var l=0;l<e.length;l++)e[l].addEventListener("click",function(){var e=this.value,l=b(u,"nameItem",e);n.innerHTML=u[l].text})}();var e=document.querySelector(".buy_btn"),n=document.querySelector(".sell_btn"),l=document.getElementById("inventory").textContent;"Пусто"!=l&&n.classList.remove("hide-loc"),e.addEventListener("click",function(){var e=document.querySelector('input[name = "shop_item"]:checked').value;v(m,e),h(),"Пусто"!=(l=document.getElementById("inventory").textContent)&&n.classList.remove("hide-loc")}),n.addEventListener("click",function(){var e=document.querySelector('input[name = "hero_item"]:checked');null!=e?(p(e.value),h()):document.querySelector(".dialogue_article").innerHTML="Предмет для продажи не выбран"})}})});var y=[{questTitle:"Начало",questArticle:["Добрый маг привел меня в чувство и дал не много денег. Нужно осмотреться в городе, чем ни будь заняться, пока не вернется память"]}];function T({questName:e,questArticle:n}){var l=b(y,"questTitle",e);if(-1==l){var i=[{}];i[0].questTitle=e,i[0].questArticle=[n],y.push(i[0])}else-1==y[l].questArticle.indexOf(n)&&y[l].questArticle.push(n)}function L(){var e=document.querySelector(".modal");null!=e&&e.remove();new r({elemParent:"#cont",elemClass:["modal","modal-show","journal"],elemTag:"div",elemInner:'\n            <p class="journal-title">Журнал</p>\n            <div class="modal-close modal-close_btn"></div>\n            <div class="journal-item" id="journal-item">\n\n            </div>\n        '}).addElem(),function(e,n){var l=document.getElementById(n);l.innerHTML="";for(var i=0;i<e.length;i++){var t=document.createElement("div"),a=document.createElement("p"),o=document.createElement("ul");t.classList.add("quest-box"),a.classList.add("quest-title"),o.classList.add("journal-list"),a.innerHTML=e[i].questTitle,t.appendChild(a);for(var s=0;s<e[i].questArticle.length;s++){var r=document.createElement("li");r.innerHTML="- "+e[i].questArticle[s],o.appendChild(r)}t.appendChild(o),l.appendChild(t)}}(y,"journal-item"),o()}document.addEventListener("click",function(e){e.target.classList.contains("panel-journal_btn")&&L()});var q={lobart:{work:!1,access:!1},cityGuard:{haveAccess:!1},senteza:{pay:!1,beatSenteza:!1},houseRenta:{haveAccess:!1},citizen:{questActive:!1,isSitizen:!1},mainQuest:{takeQuest:!1,onar:!1,laresTrain:!1,trainCount:0,map:!1,orcDefeat:!1},laresQuest:{active:!1}},H={rat:{name:"Крыса",damage:20,armor:0,crit:10,hitPoint:100,item:{nameItem:"Хвост крысы",typeItem:"Предмет",priceItem:80,propertiesItem:"Для продажи",countItem:1},image:'<div class="modal-enemy rat-battle"><img src="img/rat.png" alt="Болотная крыса"></div>'},varg:{name:"Варг",damage:30,armor:0,crit:10,hitPoint:100,item:{nameItem:"Шкура варга",typeItem:"Предмет",priceItem:100,propertiesItem:"Для продажи",countItem:1},image:'<div class="modal-enemy varg-battle"><img src="img/varg.png" alt="Варг"></div>'},mrakoris:{name:"Мракорис",damage:40,armor:0,crit:10,hitPoint:100,item:{nameItem:"Рог мракориса",typeItem:"Предмет",priceItem:150,propertiesItem:"Для продажи",countItem:1},image:'<div class="modal-enemy mrakoris-battle"><img src="img/mrakoris.png" alt="Мракорис"></div>'},senteza:{name:"Сентеза",damage:35,armor:0,crit:10,hitPoint:100,image:'<div class="modal-enemy senteza-battle"><img src="img/senteza.png" alt="Сентеза"></div>'},ork:{name:"Орк",damage:45,armor:5,crit:20,hitPoint:100,image:'<div class="modal-enemy orc-battle"><img src="img/orc.png" alt="Орк"></div>'},derek:{name:"Дерек",damage:10,armor:0,crit:10,hitPoint:100,image:'<div class="modal-enemy derek-battle"><img src="img/derek.png" alt="Дерек"></div>'},killer:{name:"Убийца",damage:40,armor:0,crit:20,hitPoint:100,image:'<div class="modal-enemy killer-battle"><img src="img/killer.png" alt="Убийца"></div>'}};function E({heroObj:e,enemyObj:n,retreat:l}){var t=e.heroDamage,o=e.heroHP,d=e.heroArmor,m=e.heroCrit,u=e.heroWeapon,v=(e.heroEquip,n.damage-e.heroArmor),p=n.hitPoint,_=(n.armor,n.crit),f=n.name;var I={0:"Ты тяжело ранен и чудом сумел скрыться, истекая кровью",1:"Ты тяжело ранен и чудом сумел скрыться, бросив свое оружие",2:"Ты победил!"},y=[{name:"Пластинчатый доспех",tag:'<div class="hero-armor heavy-armor heavy-armor_battle"></div>'},{name:"Дубинка",tag:'<div class="hero-weapon club club_battle"></div>'},{name:"Кожаная броня",tag:'<div class="hero-armor leather-armor leather-armor_battle"></div>'},{name:"Полуторный меч",tag:'<div class="hero-weapon sword sword_battle"></div>'},{name:"Сокрушитель",tag:'<div class="hero-weapon axe axe_battle"></div>'},{name:"Меч Беллиара",tag:'<div class="hero-weapon destroyer destroyer_battle"></div>'},{name:"Панцирь Дракона",tag:'<div class="hero-armor dragon-armor dragon-armor_battle"></div>'}];new r({elemParent:".modal-inner",elemClass:"battle-block",elemTag:"div",elemInner:`\n        <div class="overlay-battle">\n            <div class="battle-result">\n                <p id="battle_mess"></p>\n                <div class="btn-block" id="btn_block"></div>\n            </div>\n        </div>\n\n        <div class="modal-inner_item">\n            <div class="modal-hero">\n                <div class="modal-hero_inner">\n                    ${e.heroIMG}\n                </div>\n            </div>\n            ${n.image}\n            <div class="battle-options">\n                <div class="battle-options_inner battle-options_action"></div>\n                <div class="battle-options_flex">\n                    <div class="battle-options_inner">\n                        <ul class="battle-list">\n                            <li><p class="battle-list_title">${e.heroName}</p></li>\n                            <li>\n                                <b>Урон:</b>\n                                <span>${e.heroDamage}</span>\n                            </li>\n                            <li>\n                                <b>Броня:</b>\n                                <span>${e.heroArmor}</span>\n                            </li>\n                            <li>\n                                <b>Крит:</b>\n                                <span>${e.heroCrit+"%"}</span>\n                            </li>\n                            <li>\n                                <b>Здоровье:</b>\n                                <span id='battleHP'>${e.heroHP}</span>\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="battle-options_inner">\n                        <ul class="battle-list">\n                            <li><p class="battle-list_title">${n.name}</p></li>\n                            <li>\n                                <b>Урон:</b>\n                                <span>???</span>\n                            </li>\n                            <li>\n                                <b>Броня:</b>\n                                <span>???</span>\n                            </li>\n                            <li>\n                                <b>Крит:</b>\n                                <span>???</span>\n                            </li>\n                            <li>\n                                <b>Здоровье:</b>\n                                <span>???</span>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            `}).addElem();u=e.heroWeapon,d=e.heroEquip;function L(e,n){var l=document.querySelector(".modal-hero_inner"),i=document.createElement("div");e=y[n].tag,i.innerHTML=e,l.appendChild(i)}var H=b(y,"name",u);-1!=H&&L(u,H);var E=b(y,"name",d);(-1!=E&&L(d,E),new s({btnClass:"atack",btnText:"Атаковать",btnParent:".battle-options_action"}).createBtn(),"Дерек"==f)?(new s({btnClass:"to-final",btnText:"Далее",btnParent:"#btn_block"}).createBtn(),document.querySelector(".to-final").addEventListener("click",function(){function e(e){0==e&&(a(),i("modal-loc","killer-loc",!1),new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:'\n                            <p class="dialogue_article"  id="dialogue"><b>Убийца: </b>У тебя два выбора, отдать мне сундук и быстро умереть, второй вариант я забираю сундук и ты умираешь медленно и в страшных муках</p>\n                            <div class="btn-block btn-block_dialogue" id=btn_block>\n                                <ul class="link-list" id="link_list">\n                                    <li>- Все ясно, тебя послал Онар! Выходит я принял не ту сторону ... Ну чтож, у меня для тебя есть третий вариант, ты сдохнешь, а я оставляю сундук себе! (В АТАКУ!)</li>\n                                </ul>\n                            </div>\n                            '}).addElem(),c(!1,".link-list",n))}function n(e){0==e&&(a(),i("modal-loc","hero-die",!1),new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:'\n                            <p class="dialogue_article"  id="dialogue">Ты победил всех врагов, убийца Онара повержен! Но убийца был искусным фехтовальщиком и тяжело ранил тебя в шею, ты теряешь много крови. Нужно перевязать рану и как то дотянуть до города ...</p>\n                            <div class="btn-block btn-block_dialogue" id=btn_block>\n                                <ul class="link-list" id="link_list">\n                                    <li>- Далее</li>\n                                </ul>\n                            </div>\n                            '}).addElem(),c(!1,".link-list",l))}function l(e){a(),new r({elemParent:"#cont",elemClass:["modal","modal-show","journal"],elemTag:"div",elemInner:'\n                <p class="journal-title">Эпилог</p>\n                <div class="begin-img"><img src="img/bg-main.jpg"></div>\n                <div class="start-article">\n                    <p>Нагур шел быстрым шагом, он опаздывал к условленному времени. Дарон и Дерек ждали его в топях, только Нагур знал топь вдоль и поперек, чтобы провести их по тайной тропе и вывести с южной стороны болот. За это он получит 2000 золотых, вполне не плохо за то, чтобы прогуляться по болоту и вернуться домой. Главное, чтобы об этом походе не узнал Онар, ведь тогда с него точно шкуру спустят.<br><br>\n                    Нагур углубился в топь и остановился в оцепенении возле землянки Дарона. На траве лежало обезглавленное тело. Нагур узнал его, отпетый убийца Онара. Пройдя чуть дальше Нагур обнаружил еще одно тело под деревом. Воин сжимавший рукоять меча сидел на земле, прислонившись спиной к дереву, другой рукой он прижимал страшную рану в шее. Он весь истек кровью, его голова была низко опущена, воин был мертв. Нагур узнал его, это был тот кому он продал карту топей! Не повезло бедняге. Осмотрев тело, Нагур обнаружил сундук с кучей золота и он знал откуда эта все. Дарон и Дерек были мертвы, как и тот кто забрал у них это золото! <br><br>\n                    В такой ситуации Нагур долго думать не стал, он спешно прошел вглубь леса через болота по знакомым безопасным тропам и вышел на берег отдаленной части острова. На берегу стояла не большая посудина с парусом и веслами, которую Нагур пришвартовал сюда два дня назад. Он сел в нее и взял курс на континент, плыть всего полтора дня.<br><br>\n                    У Нагура теперь много денег, он в мыслях попращался со старой жизнью проводника, построит дом на континенте и заживет новой счастливой жизнью\n                    Так закончилась это приключение игрок, к сожалению ты погиб в этой истории, возможно если бы ты сделал другой выбор, твоя судьба могла сложиться по другому...</p>\n                </div>\n\n                <div class="btn-block btn-block_dialogue" id=btn_block>\n                    <ul class="link-list" id="link_list">\n                        <li>- Начать игру заново</li>\n                    </ul>\n                </div>\n                '}).addElem(),c(!1,".link-list",t)}function t(e){0==e&&location.reload()}a(),i("modal-loc","dereck-die-loc",!1),new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:'\n                    <p class="dialogue_article"  id="dialogue">Дерек повержен в два выпада, это был слабый соперник! Пока ты дрался с Дереком, Дарон пытался скастовать заклинание морозная глыба, чтобы првератить тебя в ледышку. Тебе повезло, что он был начинающим магом и не смог сделать это быстро, но вот Дарон взмахнул рукой, чтобы направить на тебя ледяной град!</p>\n                    <div class="btn-block btn-block_dialogue" id=btn_block>\n                        <ul class="link-list" id="link_list">\n                            <li>- Метнуть охотничий нож!</li>\n                        </ul>\n                    </div>\n                    '}).addElem(),c(!1,".link-list",function(n){if(0==n){a(),i("modal-loc","kill-daron",!1);var l=new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:'\n                            <p class="dialogue_article"  id="dialogue">Ты был стремителен и попал точно в глаз Дарону! Дело сделано, в землянке ты нашел сундук Онара, там фолиант, драгоценные камни и много золота, пора уходить, как вдруг ты услышал чьи то шаги ...</p>\n                            <div class="btn-block btn-block_dialogue" id=btn_block>\n                                <ul class="link-list" id="link_list">\n                                    <li>- Приготовиться встретить гостей!</li>\n                                </ul>\n                            </div>\n                            '});l.addElem(),c(!1,".link-list",e)}})})):new s({btnClass:"modal-close_btn",btnText:"Уйти",btnParent:"#btn_block"}).createBtn();l&&new s({btnClass:"modal-close_btn",btnText:"Отступить",btnParent:".battle-options_action"}).createBtn();document.querySelector(".atack").addEventListener("click",function(){var e=document.querySelector(".overlay-battle");function l({resText:n,enemyObj:l,heroHP:i}){e.classList.add("overlay-battle_show"),g.heroHP=i,h();var t=b(k,"nameItem","Охотничий нож"),a=l.item;if(0==l||-1==t||null==a)battle_mess.innerHTML=n;else{var o=l.item.nameItem,s=b(k,"nameItem",o);if(-1!=s)k[s].countItem+=1;else{var r={};for(var c in l.item)r[c]=l.item[c];k.push(r)}battle_mess.innerHTML=n+" (Добыча: "+o+")"}}function i(){var e=.5+100*Math.random();return e=Math.round(e)}var a,s=i(),r=i();if(s<=m&&(t*=2),r<=_&&(v*=2),o-=v,(p-=t)<=0&&("Орк"==f&&(q.mainQuest.orcDefeat=!0,T({questName:"Пропавший помощник",questArticle:"Я смог победить грозного орка! Нужно восстановить силы и продолжить поиски Дерека в топях"})),"Сентеза"==f?(a="Ты победил и заставил Сентезу вернуть деньги!",g.heroGold+=50,T({questName:"Сентеза",questArticle:"Этот жалкий наемник получил свое, я вернул свои деньги!"}),q.senteza.beatSenteza=!0):a=I[2],l({resText:a,enemyObj:n,heroHP:o})),o<=0)if(o=1,"Сентеза"==f)a="Сентеза избил тебя и забрал все деньги!",g.heroGold=0,T({questName:"Сентеза",questArticle:"Этот наемник навалял мне по полной и отжал все бабло! Надо найти способ расквитаться с ним!"}),q.senteza.pay=!0,l({resText:a,enemyObj:!1,heroHP:o});else{var c=b(k,"nameItem",u);-1!=c?(g.heroWeapon="Пусто",g.heroDamage-=k[c].propertiesItem,k.splice(c,1),l({resText:I[1],enemyObj:!1,heroHP:o})):l({resText:I[0],enemyObj:!1,heroHP:o})}battleHP.innerHTML=o})}function P(e,n){new r({elemParent:".modal-inner",elemClass:"load",elemTag:"div",elemInner:'<img src="img/load.gif" alt="">'}).addElem(),new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n            <p class="dialogue_article" id="dialogue">${n} ...</p>\n            <div class="btn-block btn-block_dialogue" id="btn_block">\n\n            </div>\n            `}).addElem(),setTimeout(function(e){new s({btnClass:"modal-close_btn",btnText:"Уйти",btnParent:".btn-block_dialogue"}).createBtn(),dialogue.innerHTML=e,document.querySelector(".load").classList.add("hide")},5e3,e)}function w(){i("modal-loc","nagur-loc");var e="<b>Нагур: </b> Самая точная карта топей, безопасные тропы, ориентиры, всего 150 монет",n='\n            <ul class="link-list" id="link_list">\n                <li>- Задать вопрос</li>\n                <li>- Купить карту (150 монет)</li>\n                <li class="modal-close_btn">- Уйти</li>\n            </ul>\n        ',l='\n            <ul class="link-list" id="link_list">\n                <li>- Ты можешь сам провести через болота?</li>\n                <li>- На сколько надежны твои карты?</li>\n                <li>- Какие монстры там водятся?</li>\n                <li>- Назад</li>\n            </ul>\n        ',t=[{0:"<b>Нагур:</b> Я больше не хожу в туманную лощину, стало слишком опасно, тварей развелось полно",1:"<b>Нагур:</b> Эти карты я писал еще во времена войны с орками когда жил в болотах и дополнял каждый раз когда ходил в те места, можешь не сомневаться в точности. В те тяжелые времена, не мало крови мы пустили оркам с моими храбрецами.",2:"<b>Нагур:</b> Скажу тебе одну вещь, я за эти слова не ручаюсь, но судя по слухам в топях поселился орк, вероятно разведчик, ведь скоро война. Но правда, что ни один из тех кто ходил в лощину в последнее время так и не вернулся. Будь осторожен"}];function a(e){if(0==e&&(btn_block.innerHTML=l,c(t,".link-list",o)),1==e){if(g.heroGold<150)return void(dialogue.innerHTML="Не достаточно денег для покупки ");if(1==q.mainQuest.map)return void(dialogue.innerHTML="Карта уже куплена");dialogue.innerHTML="Карта куплена, теперь можно исследовать туманную лощину",g.heroGold-=150,h(),q.mainQuest.map=!0,T({questName:"Пропавший помощник",questArticle:"У меня есть подробная карта топей, пора исследовать туманную лощину. Нагур предупредил о возможной встрече с орком, нужно хорошо экипироваться"})}}function o(l){3==l&&(dialogue.innerHTML=e,btn_block.innerHTML=n,c(!1,".link-list",a))}new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n                    <p class="dialogue_article"  id="dialogue">${e}</p>\n                    <div class="btn-block btn-block_dialogue" id=btn_block>${n}</div>\n                    `}).addElem(),c(!1,".link-list",a)}hollow.addEventListener("click",function(){i("modal-loc","hollow-loc",!1);var e="Туманная лощина опасное место. Чтобы пройти через болота нужна карта или проводник, иначе рискуешь угодить в трясину",n='\n            <ul class="link-list" id="link_list">\n                <li>- Пройти дальше</li>\n                <li class="modal-close_btn">- Уйти</li>\n            </ul>\n        ',l=[{0:"<b>Дарон: </b> Я предполагал, что ты появишься, но не думал, что так быстро. У меня было видение, иначе я бы не спас тебя с перевала. Я точно знал в какой день ты будешь там проходить и что за этим последует",1:"<b>Дарон: </b> Я не боевой маг огня и не состою в ордене. Когда то я был послушником круга воды, и кое что хорошо умею, например заклинание скрытности, что и позволило нам пройти мимо орка. Он был единственной защитой от головорезов Онара, но ты с ним разделался, теперь времени у нас в обрез",2:"<b>Дарон: </b> фолиант Инноса, древняя магическая книга, не знаю как он оказался у Онара, но мы заключили с ним сделку. Используя свои способности я провернул для него несколько выгодных дел, на какие деньги думаешь он смог нанять армию наемников. В ответ он должен был отдать мне фолиант, ну и кое что из драоценных камней, что я помог ему добыть, но Онар послал за мной убийц и теперь я здесь. Мне пришлось бежать, но перед этим я лишь забрал свое",3:"<b>Дерек: </b> Мы вместе проворачивали дела для Онара, в ответ я был тоже заказан. Поняв, что нас обоих должны убить, мы забрали то, что причитается нам по праву и скрылись здесь",4:"<b>Дарон: </b> Мы ждем проводника, он выведет нас через болота на отдаленную часть острова, куда обычным путем не добраться, там нас будет ждать судно до континента"}];function t(t){0==t&&(a(),i("modal-loc","derek-loc",!1),new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n                        <p class="dialogue_article"  id="dialogue">${e}</p>\n                        <div class="btn-block btn-block_dialogue" id=btn_block>${n}</div>\n                        `}).addElem(),dialogue.innerHTML="Дарон не выглядит удивленным ...",btn_block.innerHTML='\n                    <ul class="link-list" id="link_list">\n                        <li>- Дарон! Что ты тут делаешь???</li>\n                        <li>- Так кто ты такой?</li>\n                        <li>- Как ты замешан в этом деле?</li>\n                        <li>- Вероятно ты Дерек? а ты как связан со всей этой историей?</li>\n                        <li>- Как вы думайте отсюда выбираться?</li>\n                        <li>- Интересно, а как мне быть в этой ситуации?</li>\n                    </ul>\n                ',c(l,".link-list",o))}function o(e){5==e&&(dialogue.innerHTML="<b>Дарон: </b> ты же не думаешь, что Онар тебе заплатит? Будь уверен, что он уже послал по твоему следу убийц. Времени в обрез, в ближайшее время сюда прибудет проводник, я дам тебе 1000 монет и уплывем на континент, там наши пути разойдутся. Мы не враги, я помог тебе и теперь ты помоги мне. Что скажешь?",btn_block.innerHTML='\n                    <ul class="link-list" id="link_list">\n                        <li>- Ладно, по рукам! Уходим быстрее</li>\n                        <li>- Хватит водить меня за нос, вы воры и обманщики! (В АТАКУ!)</li>\n                    </ul>\n                ',c(!1,".link-list",d))}function s(e){0==e&&(a(),i("modal-loc","hollow-loc",!1),E({heroObj:g,enemyObj:H.ork,retreat:!1}))}function d(e){if(0==e){a();new r({elemParent:"#cont",elemClass:["modal","modal-show","journal"],elemTag:"div",elemInner:'\n                <p class="journal-title">Эпилог</p>\n                <div class="begin-img"><img src="img/bg-main.jpg"></div>\n                <div class="start-article">\n                    <p>Вы быстро собрали пожитки, Дарон наколдовал заклятие скрытности, чтобы спрятать вас от возможного преследования и все выдвинулись к условленному месту для встречи с проводником.\n                    На месте уже ожидал проводник и это был тот самый Нагур, у которого ты купил карту топей.<br><br>\n                    Дальше путь лежал через глубь болот. Через смертельные топи Нагур вел вас уверенно, пока вы не вышли из леса с южной стороны, к отдаленной части острова. Там на причале стояла не большая посудина с парусом и веслами, которую Нагур приготовил раннее.<br><br>\n                 Вот мы и на месте! - довольно воскликнул Дарон. Наш путь к свободе! - Вторил ему Дерек. Нагуру отстегнули 1000 золотых, после чего он молча удалился обратно в болота. Вы сели на посудину и отплыли к континенту.<br><br>\n                  В этом приключении ты остался жив сделав правильный выбор. Ты выкарабкался из трудной ситуации и даже заработал 1000 золотых! На этом игра окончена игрок! Удачи!</p>\n\n                </div>\n\n                <div class="btn-block btn-block_dialogue" id=btn_block>\n                    <ul class="link-list" id="link_list">\n                        <li>- Начать игру заново</li>\n                    </ul>\n                </div>\n                '}).addElem(),c(!1,".link-list",function(e){0==e&&location.reload()})}1==e&&(a(),i("modal-loc","hollow-loc",!1),E({heroObj:g,enemyObj:H.derek,retreat:!1}))}new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n                <p class="dialogue_article"  id="dialogue">${e}</p>\n                <div class="btn-block btn-block_dialogue" id=btn_block>${n}</div>\n                `}).addElem(),c(!1,".link-list",function(e){if(0==e){if(1==q.mainQuest.map&&1!=q.mainQuest.orcDefeat)return dialogue.innerHTML="Ты исследовал тропы указанные на карте, обходя опасные места в поисках следов Дерека, пока наконец не обнаружил следы сапог. Идя по следу ты наткнулся на пещеру из которой несло дымом от костра и вдруг ты услышал за спиной нечеловеческий рев!",btn_block.innerHTML='\n                        <ul class="link-list" id="link_list">\n                            <button class="btn">Приготовиться к обороне!</button>\n                        </ul>\n                    ',void c(!1,".link-list",s);if(1==q.mainQuest.map&&1==q.mainQuest.orcDefeat)return dialogue.innerHTML="Ты отправился в глубь топей мимо логова орка, по следам Дерека пока не вышел на замаскированную в ветвях землянку. Оттуда вышел щирокоплечий верзила с длинным мечом за спиной. это был Дерек. За ним появился еще один человек в бордовой мантии, лицо его показалось безумно знакомым, ты подкрался ближе и разглядел его, это был именно он, сомнений быть не могло ...",btn_block.innerHTML='\n                        <ul class="link-list" id="link_list">\n                            <li>- Далее<li>\n                        </ul>\n                    ',void c(!1,".link-list",t);dialogue.innerHTML="Ты едва не захлебнулся в трясине, здоровье на минимуме",btn_block.innerHTML='<button class="btn modal-close_btn">Уйти</button>',g.heroHP=1,h()}})}),senteza.addEventListener("click",function(){!function(){i("modal-loc","senteza-loc",!0);var e=" Кто ты такой и что тебе нужно? (окидывает надменным взглядом)",n='\n                 <ul class="link-list" id="link_list">\n                     <li>- Что это за место?</li>\n                     <li>- Я могу пройти?</li>\n                     <li class="modal-close_btn">- Уйти</li>\n                </ul>\n            ';function l(e){if(0==e){if(1==q.senteza.pay)return void(dialogue.innerHTML="<b>Сентеза:</b> проходи, проходи :)");if(g.heroGold>=50){var n=g.heroGold;n-=50,g.heroGold=n,h(),dialogue.innerHTML="<b>Сентеза:</b> уважаю сговорчивых, можешь проходить :)",job.classList.remove("hide-loc"),onarHouse.classList.remove("hide-loc"),q.senteza.pay=!0,T({questName:"Сентеза",questArticle:"Чертов наемник обобрал меня на 50 монет, надо найти способ с ним разобраться!"})}else dialogue.innerHTML="<b>Сентеза:</b> у тебя даже 50 монет не наберется, пошел прочь оборванец!",T({questName:"Сентеза",questArticle:"Мерзкий наемник не пускает на ферму, нужно найти 50 монет для входа"})}1==e&&(t(),job.classList.remove("hide-loc"),onar.classList.remove("hide-loc"))}function t(){a(),i("modal-loc","forest-loc",!1),E({heroObj:g,enemyObj:H.senteza,retreat:!1})}1==q.senteza.pay&&(e=" С тобой приятно иметь дело :)",n='\n                    <ul class="link-list" id="link_list">\n                         <li>- Вломить по полной!</li>\n                         <li class="modal-close_btn">- Уйти</li>\n                    </ul>\n                '),1==q.senteza.beatSenteza&&(e=" Ладно, ладно, проходи уже, мне проблемы не нужны ... ",n='\n                    <ul class="link-list" id="link_list">\n                         <li class="modal-close_btn">- Уйти</li>\n                    </ul>\n                '),function(e,n){new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n                <p class="dialogue_article"  id="dialogue"><b>Сентеза:</b>${n}</p>\n                <div class="btn-block btn-block_dialogue">\n                    ${e}\n                </div>\n                `}).addElem()}(n,e),c([{0:"<b>Сентеза:</b> Это поместье Онара чудак, посторонним тут не место, тебе тут не рады",1:"<b>Сентеза:</b> Да, ты можешь пройти, но так как я тебя первый раз вижу плати 50 монет (ухмыляется)"}],".link-list",function(e){1!=q.senteza.pay?1==e&&(link_list.innerHTML='\n                <li>- Заплатить 50 монет</li>\n                <li>- Вломить по полной!</li>\n                <li class="modal-close_btn">- Уйти</li>\n            ',c(!1,".link-list",l)):0==e&&t()})}()}),job.addEventListener("click",function(){(i("modal-loc","job-loc",!1),g.heroGold>=200)?new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:'\n            <p class="dialogue_article"  id="dialogue">На данный момент нет работы ...</p>\n            <div class="btn-block btn-block_dialogue" id=btn_block>\n                <button type="button" class="btn modal-close_btn">Уйти</button>\n            </div>\n            '}).addElem():(P("Работа окончена, ты заработал 100 монет","Ты работаешь в поле"),g.heroGold+=100,h())}),function(){for(var e=document.querySelectorAll(".forest-battle"),n=0;n<e.length;n++)e[n].addEventListener("click",function(){i("modal-loc","forest-loc",!0);var e=this.id;E({heroObj:g,enemyObj:H[e],retreat:!0})})}(),harald.addEventListener("click",function(){i("modal-loc","harald-loc");var e="<b>Харальд: </b> Говори по делу, у меня много работы",n='\n                <ul class="link-list" id="link_list">\n                    <li>- Задать вопрос</li>\n                    <li>- Товары</li>\n                    <li class="modal-close_btn">- Уйти</li>\n                </ul>\n            ',l='\n                <ul class="link-list" id="link_list">\n                    <li>- Как продвигается дело?</li>\n                    <li>- Ты можешь изготовить особое оружие?</li>\n                    <li>- Какой материал нужен для ковки особого оружия и брони?</li>\n                    <li>- Что нужно сделать, чтобы стать гражданином города?</li>\n                    <li>- Ты можешь за меня поручиться?</li>\n                    <li>- Назад</li>\n                </ul>\n            ',t=[{0:"<b>Харальд:</b> Моя кузница работает дни и ночи, чтобы обеспечить ополчение. Материала не хватает, груз из континента идет долго и опаздывает к назначенному сроку. Боюсь мы не успеем в должной мере обеспечить город оружием к приходу орков",1:"<b>Харальд:</b> Я могу изготовить самое острое оружие и самую крепкую броню, если есть соотвествующий материал, который добыть не очень то и просто",2:"<b>Харальд:</b> Порошок из рога мракориса наделяет металл уникальными свойствами! Всего то делов убить мракориса и извлечь рог (усмехается)",3:"<b>Харальд:</b> Чтобы стать гражданином кто то из влиятельных жителей города должен за тебя поручиться",4:"<b>Харальд:</b> Мне некогда этим заниматься"}];function a(e){if(0==e&&(btn_block.innerHTML=l,c(t,".link-list",o)),1==e){if(0==q.citizen.isSitizen)return dialogue.innerHTML="<b>Харальд: </b> Моя кузница производит снаряжение только для ополчения и граждан этого города, тебя я не знаю",T({questName:"Гражданин Хориниса",questArticle:"Харальд изготовит мне особое оружие если я стану гражданином Хориниса. Чтобы стать гражданином, кто то из влиятельных жителей города должен за меня поручиться"}),void(q.citizen.questActive=!0);if(null!=document.querySelector(".modal-item"))return;if(new r({elemParent:".modal-inner",elemClass:"modal-inner_item",elemTag:"div",elemInner:'\n                \x3c!-- Товары магазина --\x3e\n                <div class="modal-item">\n                    <p class="modal-title">Товары</p>\n                    <ul id="shop_list"></ul>\n                    <div class="btn-block btn-block_seller"></div>\n                </div>\n                \x3c!-- Предметы игрока --\x3e\n                <div class="modal-item">\n                    <p class="modal-title">Инвентарь</p>\n                    <ul id="inventory"></ul>\n                    <div class="btn-block btn-block_buyer"></div>\n                </div>\n                \x3c!-- Кошелек игрока --\x3e\n                <div class="modal-item">\n                    <p class="modal-title">Кошелек</p>\n                    <ul id="purse"></ul>\n                </div>\n                '}).addElem(),_(d,"shop_list","shop_item"),_(k,"inventory","hero_item"),f("purse"),(n=new s({btnClass:"buy_btn",btnText:"Купить",btnParent:".btn-block_seller"})).createBtn(),"Пусто"!=document.getElementById("inventory").textContent)(i=new s({btnClass:"sell_btn",btnText:"Продать",btnParent:".btn-block_buyer"})).createBtn();var n=document.querySelector(".buy_btn"),i=document.querySelector(".sell_btn");n.addEventListener("click",function(){var e=b(k,"nameItem","Рог мракориса"),n=b(k,"nameItem","Слиток стали");if(-1!=e&&-1!=n){if(k[e].countItem-=1,k[n].countItem-=1,0==k[e].countItem&&k.splice(e,1),n=b(k,"nameItem","Слиток стали"),0==k[n].countItem&&k.splice(n,1),_(k,"inventory","hero_item"),0==k.length)document.querySelector(".sell_btn").remove();var l=document.querySelector('input[name = "shop_item"]:checked').value;v(d,l),h()}else dialogue.innerHTML="Не хватает материалов для ковки"}),null!=i&&i.addEventListener("click",function(){p(document.querySelector('input[name = "hero_item"]:checked').value),h()})}}function o(l){5==l&&(dialogue.innerHTML=e,btn_block.innerHTML=n,c(!1,".link-list",a))}new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n                <p class="dialogue_article"  id="dialogue">${e}</p>\n                <div class="btn-block btn-block_dialogue" id=btn_block>${n}</div>\n                `}).addElem(),c(!1,".link-list",a)}),house.addEventListener("click",function(){i("modal-loc","house-loc",!1);var e="Ты хорошо отдохнул";g.heroHP<75&&(e="Ты хорошо отдохнул, часть здоровья восстановлено",g.heroHP=75,h()),P(e,"Отдых")}),daron.addEventListener("click",function(){i("modal-loc","mage-loc_empty"),new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:'\n            <p class="dialogue_article">В доме никого нет ...</p>\n            <div class="btn-block btn-block_dialogue">\n                <button class="btn modal-close_btn">Уйти</button>\n            </div>\n            '}).addElem(),T({questName:"Начало",questArticle:"После моего убытия Дарон куда то исчез, странно ..."})}),onar.addEventListener("click",function(){i("modal-loc","onar-loc");var e="<b>Онар: </b>Что привело тебя на мою землю?",n='\n            <ul class="link-list" id="link_list">\n                <li>- Я готов расследовать пропажу твоего помощника</li>\n                <li class="modal-close_btn">- Уйти</li>\n            </ul>\n        ',l='\n            <ul class="link-list" id="link_list">\n                <li>- Что важного ты можешь рассказать о своем помощнике?</li>\n                <li>- Есть предположения где он мог скрыться?</li>\n                <li>- Чего мне стоит ожидать?</li>\n                <li>- Сколько я получу за это дело?</li>\n                <li>- Почему ты уверен, что я не сбегу с твоим золотом в случае успеха?</li>\n                <li class="modal-close_btn">- Покинуть ферму</li>\n            </ul>\n        ',t=[{0:"<b>Онар:</b> Знаешь какое дело, не то чтобы Дерек пропал, скорее сбежал прихватив мой сундук с золотом, я доверял ему",1:"<b>Онар:</b> Кругом отвесные скалы, из этой долины только два выхода, по морю или через перевал. Ни там, ни там муха не пролезет без моего ведома. Мои люди обшарили все окрестности, есть только одно место куда он мог бежать и куда мне не добраться, туманная лощина. Я послал туда лучших людей вместе с проводником, который знал топи как свои два пальца, ни один не вернулся",2:"<b>Онар: </b> Дерек искусен в обращении с двуручным мечом, Ларес тебя потренерует, он в городе, живет возле порта, я передам ему, чтобы он взялся за тебя",3:"<b>Онар:</b> 1000 монет за голову Дерека и еще 1000 за возврат сундука с содержимым, я щедр на вознаграждение",4:"<b>Онар:</b> Как я и сказал, на этом острове ничего не происходит без моего ведома, мои люди повсюду, я все вижу"}];if(new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n                    <p class="dialogue_article"  id="dialogue">${e}</p>\n                    <div class="btn-block btn-block_dialogue" id=btn_block>${n}</div>\n                    `}).addElem(),1==q.mainQuest.onar)return n=l,e="<b>Онар: </b>Что тебя интересует?",dialogue.innerHTML=e,btn_block.innerHTML=n,void c(t,".link-list");c(!1,".link-list",function(e){0==e&&(dialogue.innerHTML="<b>Онар: </b>это хорошая новость, двое бругих, что были до тебя бесследно сгинули, осторожность в этом деле не помешает. Чтобы ты хотел узнать?",T({questName:"Пропавший помощник",questArticle:"Помощник Онара Дерек оказался вором и сбежал с золотом хозяина. Онар готов щедро заплатить за живого или мертвого Дерека. Нужно найти безопасный способ пробраться в туманную лощину"}),T({questName:"Пропавший помощник",questArticle:"Онар договорился с Ларесом, теперь я могу тренироваться у него. В таком опасном деле мастерство лишним не будет"}),q.mainQuest.onar=!0,q.mainQuest.laresTrain=!0,btn_block.innerHTML=l,c(t,".link-list"))})}),tavern.addEventListener("click",function(){!function(){i("modal-loc","tavern-loc");var e=" Добро пожаловать в таверну Олений рог :)",n='\n            <ul class="link-list" id="link_list">\n                <li>- Говорить</li>\n                <li>- Подкрепиться</li>\n                <li>- Арендовать дом</li>\n                <li class="modal-close_btn">- Уйти</li>\n            </ul>\n        ',l='\n            <ul class="link-list" id="link_list">\n                <li>- Как обстановка в городе?</li>\n                <li>- Что находится на востоке</li>\n                <li>- Что в южной стороне?</li>\n                <li>- Какие слухи в последнее время?</li>\n                <li>- Назад</li>\n            </ul>\n        ',t='\n        <ul class="link-list" id="link_list">\n            <li>- Жаркое с подливой и шампиньонами (50 монет)</li>\n            <li>- Запеченный лосось с картофелем (25 монет)</li>\n            <li>- Назад</li>\n        </ul>',a='\n        <ul class="link-list" id="link_list">\n            <li>- Арендовать дом (250 монет. Отдых восстаналивает до 75% здоровья)</li>\n            <li>- Назад</li>\n        </ul>',o=[{0:"<b>Селина:</b> Тревожных слухов о надвигающейся войне с орками все больше, кто имел возможность уехать уже уплыли на континент, оставшиеся поступают в ополчение и готовятся оборонять город. Тут все, что у нас есть, мы будем защищать город до последнего",1:"<b>Селина:</b> Ферма Онара, самый крупный землевладелец на острове. Он нанял армию наемников и перестал платить городу налоги. В предверии нашествия орков, город не может позволить себе гражданскую войну и мы зависим от продовольственных поставок Онара.",2:"<b>Селина:</b> Туманная лощина, смертельные болота, жуткие твари, даже не думай ходить в те месте, если не знаешь где именно ходить, из трясины не выбраться.",3:"<b>Селина:</b> На ферме Онара пропал его главный помощник, важная персона, который вел все дела с городом. Онар назначил вознаграждение каждому кто поможет в поисках"}];function s(e){if(0==e&&(btn_block.innerHTML=l,c(o,".link-list",b)),1==e&&(dialogue.innerHTML="<b>Селина: </b> Лучшее жаркое в Хоринисе :)",btn_block.innerHTML=t,c(!1,".link-list",m)),2==e){if(1==q.houseRenta)return void(dialogue.innerHTML="<b>Селина: </b> так ты уже арендовал дом :)");dialogue.innerHTML="<b>Селина: </b> просторное помещение, чистое постельное белье, никаких клопов и насекомых :)",btn_block.innerHTML=a,c(!1,".link-list",u)}}function d({recoverHP:e,price:n,text:l}){g.heroGold<n||0==g.heroGold?dialogue.innerHTML="Недостаточно денег для покупки":(g.heroHP<100&&(g.heroHP+=e),g.heroHP>100&&(g.heroHP=100),dialogue.innerHTML="Ты хорошо пообедал "+l,g.heroGold-=n,h())}function m(e){0==e&&d({recoverHP:100,price:50,text:"(жаркое восстанавливает 100% здоровья)"}),1==e&&d({recoverHP:50,price:25,text:"(рыба восстанавливает по 50% здоровья)"}),2==e&&v()}function u(e){if(0==e){if(g.heroGold<250)return void(dialogue.innerHTML="Не достаточно денег для аренды ");if(1==q.houseRenta)return void(dialogue.innerHTML="Дом уже арендован, можно въезжать ");dialogue.innerHTML="Дом арендован, теперь можешь отдыхать там в любое время ",g.heroGold-=250,h(),q.houseRenta=!0,house.classList.remove("hide-loc")}1==e&&v()}function b(e){1==e&&senteza.classList.remove("hide-loc"),2==e&&hollow.classList.remove("hide-loc"),3==e&&(T({questName:"Пропавший помощник",questArticle:"У местного зажиточного крестьянина пропал главный помощник и за расследование этого дела назначена награда"}),q.mainQuest.takeQuest=!0,onar.classList.remove("hide-loc")),1==q.mainQuest.onar?(4==e&&(T({questName:"Пропавший помощник",questArticle:"Нужно купить карту топей у проводника"}),nagur.classList.remove("hide-loc")),5==e&&v()):4==e&&v()}function v(){dialogue.innerHTML=e,btn_block.innerHTML=n,c(!1,".link-list",s)}1==q.mainQuest.onar&&(o[0][4]="<b>Селина:</b> На окраине города живет старый проводник, Нагур. Когда то он воевал с орками, скрываясь с отрядом в туманной лощине, он знает топь вдоль и поперек. За не большие деньги он продаст тебе карту топей, где отмечены все безопасные участки",l='\n                <ul class="link-list" id="link_list">\n                    <li>- Как обстановка в городе?</li>\n                    <li>- Что находится на востоке?</li>\n                    <li>- Что в южной стороне?</li>\n                    <li>- Какие слухи в последнее время?</li>\n                    <li>- Где найти проводника в туманную лощину?</li>\n                    <li>- Назад</li>\n                </ul>\n            '),new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n                <p class="dialogue_article"  id="dialogue"><b>Селина:</b>${e}</p>\n                <div class="btn-block btn-block_dialogue" id=btn_block>${n}</div>\n                `}).addElem(),c(!1,".link-list",s)}()}),lares.addEventListener("click",function(){i("modal-loc","lares-loc");var e="<b>Ларес: </b> (Мастер меча задумчиво созерцает пустоту)",n='\n                <ul class="link-list" id="link_list">\n                    <li>- Говорить</li>\n                    <li>- Тренироваться (200 монет)</li>\n                    <li class="modal-close_btn">- Уйти</li>\n                </ul>\n            ',l='\n                <ul class="link-list" id="link_list">\n                    <li>- Чем ты занимаешься?</li>\n                    <li>- Чему ты можешь научить?</li>\n                    <li>- Какое преимущество у критического удара?</li>\n                    <li>- Ты состоишь в обороне города?</li>\n                    <li>- Назад</li>\n                </ul>\n            ';1==q.laresQuest.active&&0==q.citizen.isSitizen&&(n='\n                <ul class="link-list" id="link_list">\n                    <li>- Говорить</li>\n                    <li>- Тренироваться (200 монет)</li>\n                    <li>- Сдать задание (3 хвоста болотной крысы, 2 шкуры варга)</li>\n                    <li class="modal-close_btn">- Уйти</li>\n                </ul>\n            ');var t=[{0:"<b>Ларес:</b> Жду торговое судно, чтобы свалить из этого гиблого места",1:"<b>Ларес:</b> Я учу бить сильно и наверняка, после моих занятий твои удары станут сильнее",2:"<b>Ларес:</b> Критический удар увеличит твою атаку вдвое, но и враги имеют эту особенность, тут уж как повезет",3:"<b>Ларес:</b> оно мне надо? я выжил в стольких битвах, что могу тебе точно сказать, город обречен. Оружия не хватает, продовольствия мало, людей мало, а половина из тех кто есть впервые взяли в руки оружие. Безрассудная смерть не в моих планах, скоро я покину это место погибели"}];function o(e){if(0==e&&(1==q.citizen.questActive&&1==q.citizen.isSitizen&&(l='\n                        <ul class="link-list" id="link_list">\n                            <li>- Чем ты занимаешься?</li>\n                            <li>- Чему ты можешь научить?</li>\n                            <li>- Какое преимущество у критического удара?</li>\n                            <li>- Ты состоишь в обороне города?</li>\n                            <li>- Назад</li>\n                        </ul>\n                    '),btn_block.innerHTML=l,c(t,".link-list",s)),1==e)return 1==q.mainQuest.laresTrain?g.heroGold<200?void(dialogue.innerHTML="<b>Ларес: </b> тренировка стоит 200 монет, возвращайся когда станешь богаче"):void(q.mainQuest.trainCount<=4?(q.mainQuest.trainCount+=1,g.heroDamage+=1,a(),i("modal-loc","train-loc",!1),P("Тренировка окончена (Урон +1)","Учебный бой"),g.heroGold-=200,h()):dialogue.innerHTML="<b>Ларес: </b> Ты уже достаточно силен, мне больше нечему тебя учить"):void(dialogue.innerHTML="<b>Ларес: </b> я не тренерую всех подряд, тебя я не знаю");if(1==q.laresQuest.active&&0==q.citizen.isSitizen){if(2==e){var n=b(k,"nameItem","Хвост крысы"),o=b(k,"nameItem","Шкура варга");if(-1!=n&&-1!=o&&k[n].countItem>=3&&k[o].countItem>=2)return dialogue.innerHTML="<b>Ларес: </b>Отлично, ты теперь гражданин Хориниса",q.citizen.isSitizen=!0,k[n].countItem-=3,k[o].countItem-=2,0==k[n].countItem&&k.splice(n,1),o=b(k,"nameItem","Шкура варга"),0==k[o].countItem&&k.splice(o,1),void T({questName:"Гражданин Хориниса",questArticle:"Я теперь гражданин Хориниса"});dialogue.innerHTML="Условие задания не выполнено"}}else dialogue.innerHTML="Ты уже выполнил это задание"}function s(e){if(1==q.citizen.questActive&&0==q.citizen.isSitizen)return 4==e&&(T({questName:"Гражданин Хориниса",questArticle:"Ларес готов за меня поручиться, если я выполню его поручение (Добыть 3 хвоста болотной крысы и две шкуры варга)"}),n='\n                        <ul class="link-list" id="link_list">\n                            <li>- Говорить</li>\n                            <li>- Тренироваться (200 монет)</li>\n                            <li>- Сдать задание (3 хвоста болотной крысы, 2 шкуры варга)</li>\n                            <li class="modal-close_btn">- Уйти</li>\n                        </ul>\n                    ',q.laresQuest.active=!0),void(5==e&&d());4==e&&d()}function d(){dialogue.innerHTML=e,btn_block.innerHTML=n,c(!1,".link-list",o)}1==q.citizen.questActive&&0==q.citizen.isSitizen&&(t[0][4]="<b>Ларес:</b> Чтобы стать гражданином ты должен себя как то проявить, поможешь мне я помогу тебе. Добудь мне три хвоста болотной крысы и две шкуры варга, я замолвлю за тебя словечко",l='\n                <ul class="link-list" id="link_list">\n                    <li>- Чем ты занимаешься?</li>\n                    <li>- Чему ты можешь научить?</li>\n                    <li>- Какое преимущество у критического удара?</li>\n                    <li>- Ты состоишь в обороне города?</li>\n                    <li>- Ты можешь мне помочь стать гражданином?</li>\n                    <li>- Назад</li>\n                </ul>\n            '),new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n                <p class="dialogue_article"  id="dialogue">${e}</p>\n                <div class="btn-block btn-block_dialogue" id=btn_block>${n}</div>\n                `}).addElem(),c(!1,".link-list",o)}),lobart.addEventListener("click",function(){i("modal-loc","lobart-loc"),function(){var e='\n            <ul class="link-list" id="link_list">\n                <li>- Чем ты занимаешься?</li>\n                <li>- Как обстановка на острове?</li>\n                <li>- Как мне попасть в город?</li>\n                <li class="modal-close_btn">- Уйти</li>\n            </ul>\n        ';function n(e,n){new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n                <p class="dialogue_article"  id="dialogue"><b>Лобарт:</b>${n}</p>\n                <div class="btn-block btn-block_dialogue" id=btn_block>\n                    ${e}\n                </div>\n                `}).addElem()}if(1!=q.lobart.work&&1!=q.lobart.access){var l=[{0:"<b>Лобарт:</b> Веду хозяйство, собираю урожай, сдаю в город. Времена нынче смутные, торговать все сложнее",1:"<b>Лобарт:</b> все обеспокоены тревожными новостями с пограничья, орки готовятся к войне. А у меня все хозяйство в открытом поле, если орки нагрянут, мне остается только собрать пожитки и бежать на континент. И чем я там займусь? Моих сбережений не хватит на новое хозяйство, пошло все прахом...",2:"<b>Лобарт:</b> в Хоринис пускают только граждан или крестьян. Я могу помочь тебе с этим, если согласен на меня поработать",3:"<b>Лобарт:</b> у меня не хватает рабочих рук, мой пройдоха Ханс опять упился, вторые сутки валяется на сене. Нужно собрать урожай, берешься?"}];function o(n){0==n&&(btn_block.innerHTML=e,c(l,".link-list",m)),1==n&&(a(),i("modal-loc","job-loc",!1),P("Работа окончена, можно уходить","Ты работаешь в поле"),q.lobart.work=!0,T({questName:"Начало",questArticle:"Я собрал урожай Лобарта"}))}function d(e){0==e&&(link_list.innerHTML="",dialogue.innerHTML=l[0][3],c(!1,".link-list",o),new s({btnClass:"back",btnText:"Назад",btnParent:".link-list"}).createBtn(),new s({btnClass:"to-work",btnText:"Собрать урожай",btnParent:".link-list"}).createBtn(),T({questName:"Начало",questArticle:"Лобарт поможет мне пройти в город, если я соберу его урожай"}))}function m(e){2==e&&(link_list.innerHTML="<li>- Что нужно делать?</li>",c(!1,".link-list",d))}n(e," (задумчиво смотрит в даль ...)"),c(l,".link-list",m),T({questName:"Начало",questArticle:"В Хоринис не пускают чужаков, нужно найти способ попасть в город"})}1==q.lobart.work&&1!=q.lobart.access&&(n(e='<ul class="link-list" id="link_list"></ul>'," работа сделана на совесть. Покажи этот договор стражникам, там моя подпись и печать, скажи, что с этого дня работаешь на меня, моих пропускают без проблем, удачи"),new s({btnClass:"leave",btnText:"Уйти",btnParent:".link-list"}).createBtn(),T({questName:"Начало",questArticle:"Лобарт предоставил мне пропуск, который поможет пройти в город"}),c(!1,".link-list",function(e){0==e&&(q.lobart.access=!0,t())}));1==q.lobart.work&&1==q.lobart.access&&n(e='<ul class="link-list" id="link_list"><li class="modal-close_btn">- Я просто проходил мимо ...</li></ul>'," у меня много работы, если ты по делу говори")}()}),guard.addEventListener("click",function(){!function(){var e=[{0:"<b>Стражник:</b> Город в военном положении, не пускаем чужаков!",1:"<b>Стражник:</b> Новая война с орками не за горами, мы должны быть готовы отразить любой удар!",2:"<b>Стражник:</b> Мы пускаем только граждан Хориниса или крестьян с окрестных владений, ты не относишься ни к тем, ни к другим",3:"<b>Стражник:</b> работаешь на Лобарта, можешь проходить, но смотри без глупостей тут! В тюрьме всегда есть свободные места"}];i("modal-loc","guard-loc");var n='\n                 <ul class="link-list">\n                     <li>- Я могу пройти в город?</li>\n                     <li>- В чем причина военного положения?</li>\n                     <li>- Есть ли вообще какой то способ попасть в город?</li>\n                     <li class="modal-close_btn">- Уйти</li>\n                </ul>\n            ';function l(e,n,l){new r({elemParent:".modal-inner",elemClass:"dialogue",elemTag:"div",elemInner:`\n                <p class="dialogue_article"  id="dialogue"><b>Стражник:</b>${n}</p>\n                <div class="btn-block btn-block_dialogue">\n                    ${e}\n                </div>\n                `}).addElem(),l&&new s({btnClass:"modal-close_btn",btnText:"Уйти",btnParent:".btn-block_dialogue"}).createBtn()}1==q.lobart.access&&1!=q.cityGuard.haveAccess&&(l(n='\n                     <ul class="link-list">\n                         <li>- Я могу пройти в город?</li>\n                         <li>- В чем причина военного положения?</li>\n                         <li>- Есть ли вообще какой то способ попасть в город?</li>\n                         <li>- У меня есть пропуск</li>\n                         <li class="modal-close_btn">- Уйти</li>\n                    </ul>\n                '," Стой кто идет!?",!1),c(e,".link-list",function(e){3==e&&(T({questName:"Начало",questArticle:"Наконец смог попасть в город, нужно искать работу"}),q.cityGuard.haveAccess=!0,horinis_loc.classList.remove("hide-loc"))}));0==q.lobart.access&&1!=q.cityGuard.haveAccess&&(l(n," Стой кто идет!?",!1),c(e,".link-list",function(e){3==e&&T({questName:"Начало",questArticle:"В Хоринис не пускают чужаков, нужно найти способ попасть в город"})}));1==q.lobart.access&&1==q.cityGuard.haveAccess&&l(n=""," Если орки придут сюда, я первым встречу их на стенах! Наш город выстоит, как выстоял 20 лет назад",!0)}()}),nagur.addEventListener("click",function(){w()})}]);
//# sourceMappingURL=bundle.js.map